<div class="scroll">
  <div class="wrapper">

    <nav class="main-header navbar navbar-expand-md navbar-light navbar-white">
      <div class="container">


        <button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse"
          aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse order-3" id="navbarCollapse">
          <!-- Left navbar links -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a href="index3.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">Contact</a>
            </li>
            <li class="nav-item dropdown">
              <a id="dropdownSubMenu1" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                class="nav-link dropdown-toggle">Dropdown</a>
              <ul aria-labelledby="dropdownSubMenu1" class="dropdown-menu border-0 shadow">
                <li><a href="#" class="dropdown-item">Some action </a></li>
                <li><a href="#" class="dropdown-item">Some other action</a></li>

                <li class="dropdown-divider"></li>

                <!-- Level two dropdown-->
                <li class="dropdown-submenu dropdown-hover">
                  <a id="dropdownSubMenu2" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false" class="dropdown-item dropdown-toggle">Hover for action</a>
                  <ul aria-labelledby="dropdownSubMenu2" class="dropdown-menu border-0 shadow">
                    <li>
                      <a tabindex="-1" href="#" class="dropdown-item">level 2</a>
                    </li>

                    <!-- Level three dropdown-->
                    <li class="dropdown-submenu">
                      <a id="dropdownSubMenu3" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false" class="dropdown-item dropdown-toggle">level 2</a>
                      <ul aria-labelledby="dropdownSubMenu3" class="dropdown-menu border-0 shadow">
                        <li><a href="#" class="dropdown-item">3rd level</a></li>
                        <li><a href="#" class="dropdown-item">3rd level</a></li>
                      </ul>
                    </li>
                    <!-- End Level three -->

                    <li><a href="#" class="dropdown-item">level 2</a></li>
                    <li><a href="#" class="dropdown-item">level 2</a></li>
                  </ul>
                </li>
                <!-- End Level two -->
              </ul>
            </li>
          </ul>

          <!-- SEARCH FORM -->
          <form class="form-inline ml-0 ml-md-3">
            <div class="input-group input-group-sm">
              <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
              <div class="input-group-append">
                <button class="btn btn-navbar" type="submit">
                  <i class="fas fa-search"></i>
                </button>
              </div>
            </div>
          </form>
        </div>

        <!-- Right navbar links -->
        <ul class="order-1 order-md-3 navbar-nav navbar-no-expand ml-auto">
          <!-- Messages Dropdown Menu -->


          <li class="nav-item">
            <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
              <i class="fas fa-th-large"></i>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
              <i class="fas fa-th-large"></i>
            </a>
          </li>
        </ul>
      </div>
    </nav>


    <div class="content-wrapper">

      <div class="content-header">
        <div class="container">
          <div class="row mb-2">
            <div class="m-3 ">
              <h1 class="m-0"> <small>Library V 2.0</small></h1>

            </div>
            <div class="col-sm-6">


            </div>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="container">

          <div class="wrapper">
            <div class="container-fluid ">

<!-- 
              <div class="embed-responsive embed-responsive-16by9">
                <iframe
                  src="https://web.powerva.microsoft.com/environments/Default-ae733208-8783-4b93-94a5-c5f29fb71fa9/bots/crcd8_itSupport/webchat?__version__=2"
                  frameborder="0" style="width: 100%; height: 100%;"></iframe>

                &nbsp;
                <br>
                <br>
              </div> -->


              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;










              <div class="card card-primary card-outline ">

                <div class="main-area">
                  <div class="content-area">

                    <div class="container">
                      <div class="row">

                        &nbsp;
                        &nbsp;
                        &nbsp;
                        &nbsp;

                        <div id="form" class="form-area col-5">
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          <h3 *ngIf="!editMode">Add Library</h3>
                          <h3 *ngIf="editMode">Edit Library</h3>
                          &nbsp;
                          &nbsp;
                          &nbsp;

                          <form #productsForm="ngForm" (ngSubmit)="onProductCreate(productsForm.value);onProductsFetch()">
                            <div class="form-group">
                              <label for="">Name</label>
                              <input type="text" name="libname" #libname="ngModel"
                                [class.is-invalid]="libname.invalid && libname.touched" class="form-control " required
                                ngModel>
                              <small class="text-danger " [class.d-none]="libname.valid || libname.untouched">Name is
                                required</small>
                            </div>



                            <div class="form-group">
                              <label for="">Building</label>
                              <select (blur)="validateTopic(building.value)" (change)="validateTopic(building.value)"
                                class="form-control " #building="ngModel"
                                [class.is-invalid]="topicHasError && building.touched" name="building"
                                [(ngModel)]="userModel.building">

                                <option *ngFor="let building of buildings">{{building}}</option>


                              </select>
                              <small class="text-danger" [class.d-none]="!topicHasError || building.untouched">Please
                                choose a building</small>

                            </div>



                            <div *ngIf="selectmain" class="form-group">
                              <label for="">Floor</label>
                              <select (blur)="validateFloor(floor.value)" (change)="validateFloor(floor.value)"
                                class="form-control " #floor="ngModel"
                                [class.is-invalid]="floorHasError && floor.touched" name="floor"
                                [(ngModel)]="userModel.floor">



                                <option *ngFor="let floor of mainfloors">{{floor}}</option>


                              </select>
                              <small class="text-danger" [class.d-none]="!floorHasError || floor.untouched">Please
                                choose a floor</small>

                            </div>



                            <div *ngIf="selecthariri" class="form-group">
                              <label for="">Floor</label>
                              <select (blur)="validateFloor(floor.value)" (change)="validateFloor(floor.value)"
                                class="form-control " #floor="ngModel"
                                [class.is-invalid]="floorHasError && floor.touched" name="floor"
                                [(ngModel)]="userModel.floor">


                                <option *ngFor="let floor of haririfloors">{{floor}}</option>


                              </select>
                              <small class="text-danger" [class.d-none]="!floorHasError || floor.untouched">Please
                                choose a floor</small>

                            </div>





                            <div class="form-group">
                              <label for="">Schedule</label>
                              <div class="row">
                                <div class="col-5">
                                  <p for="">From</p>
                                  <input type="time" name="fromtime" #fromtime="ngModel"
                                    [class.is-invalid]="fromtime.invalid && fromtime.touched" class="form-control "
                                    required ngModel>
                                  <small class="text-danger "
                                    [class.d-none]="fromtime.valid || fromtime.untouched">Schedule is required</small>

                                </div>
                                <div class="col-5">
                                  <p for="">To</p>
                                  <input type="time" name="totime" #totime="ngModel"
                                    [class.is-invalid]="totime.invalid && totime.touched" class="form-control " required
                                    ngModel>
                                  <small class="text-danger " [class.d-none]="totime.valid || totime.untouched">Schedule
                                    is required</small>

                                </div>

                              </div>


                            </div>
                            <input [disabled]="productsForm.form.invalid" class="btn btn-success " type="submit"
                              value="{{editMode ? 'Update' : 'Submit'}}">
                            &nbsp;
                            &nbsp;
                            &nbsp;
                            &nbsp;


                            <button (click)="canceledit()" *ngIf="editMode" class="btn btn-primary " type="button">Cancel </button>


                          </form>
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          &nbsp;
                        </div>
                        &nbsp;
                        &nbsp;
                        &nbsp;
                        &nbsp;
                        &nbsp;
                        &nbsp;


                        <!--Display product area-->
                        <div id="tabledisplay" class="product-display-area col-6">
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          <h3>Libraries</h3>
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          <table class="table table-bordered ">
                            <tr>

                              <th>Name</th>
                              <th>Building</th>
                              <th>Floor</th>
                              <th>From</th>
                              <th>To</th>
                              <th class="text-center " colspan="2">Actions</th>



                            </tr>
                            <tr *ngIf="allProducts.length < 1 && !isFetching">
                              <td colspan="5">No Libraries Available</td>
                            </tr>
                            <tr *ngIf="errorMessage">
                              <td colspan="5">{{errorMessage}}</td>
                            </tr>
                            <tr *ngIf="isFetching && !errorMessage">
                              <td colspan="5">Loading....</td>
                            </tr>
                            <tr *ngFor="let prod of allProducts; index as i">

                              <td>{{prod.libname}}</td>
                              <td>{{prod.building}}</td>
                              <td>{{prod.floor}}</td>
                              <td>{{prod.fromtime}}</td>
                              <td>{{prod.totime}}</td>
                              <td class="text-center ">

                                <a id="noblue"><button class="btn btn-success" type="button"
                                    (click)="onEditClicked(prod.id)">Edit </button></a>


                                &nbsp;
                                <div class="modal fade" [id] = "'exampleModal' + prod.id" tabindex="-1" role="dialog"
                                  aria-labelledby="exampleModalLabel" aria-hidden="true">
                                  <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to delete
                                          {{prod.libname}}</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                      </div>
                                    
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                          data-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal"
                                          (click)="onDeleteProduct(prod.id);onProductsFetch();onProductsFetch()">Save changes</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                              
                                <button type="button" class="btn btn-danger" data-toggle="modal"
                                [attr.data-target]="'#exampleModal' + prod.id">
                                Delete
                              </button>
                            </tr>




                          </table>
                         
                          <div class="action-btn-container">
                            <button class="btn btn-fetch btn-primary  " (click)="onProductsFetch()">Fetch
                              Libraries</button>


                          </div>
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          &nbsp;
                          &nbsp;
                        </div>
                      </div>


                    </div>
                  </div>
                </div>
              </div>
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
              &nbsp;
            </div>
          </div>
        </div>

        <footer class="main-footer">
          <!-- To the right -->
          <div class="float-right d-none d-sm-inline">
            Anything you want
          </div>
          <!-- Default to the left -->
          <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong> All rights
          reserved.
        </footer>
      </div>


    </div>





  </div>

  =
</div>